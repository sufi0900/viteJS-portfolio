import{u as p,a as w,r as h,c as g,j as e,S as j,G as s,T as d,C as v,b as E,D as C,L as T,E as k,e as D,Q as S}from"./index-NqQIloCT.js";const F=()=>{var x,u;const m={background:"rgba(255, 255, 255, 0.2)",borderRadius:"16px",boxShadow:"rgba(14, 30, 37, 0.12) 0px 2px 4px 0px, rgba(14, 30, 37, 0.32) 0px 2px 16px 0px",backdropFilter:"blur(5px)",WebkitBackdropFilter:"blur(5px)",border:"1px solid rgba(255, 255, 255, 0.3)"},{user:r}=p(t=>({...t.auth})),{userTours:b,loading:a,currentPage:n,numberOfPages:l}=p(t=>({...t.tour})),i=(x=r==null?void 0:r.result)==null?void 0:x._id,o=w();h.useEffect(()=>{i&&o(g(i))},[o,i]);const f=t=>(t.length>40&&(t=t.substring(0,40)+" ..."),t),y=t=>{window.confirm("Are you sure you want to delete this tour?")&&o(D({id:t,toast:S}))},c=()=>{!a&&n<l&&window.innerHeight+document.documentElement.scrollTop>=document.documentElement.scrollHeight-100&&o(g(i,n+1))};return h.useEffect(()=>(window.addEventListener("scroll",c),()=>{window.removeEventListener("scroll",c)}),[o,i,n,l]),a&&n===1?e.jsx(j,{}):e.jsxs(s,{container:!0,justifyContent:"center",alignItems:"center",spacing:3,children:[e.jsxs(s,{item:!0,xs:12,children:[e.jsxs(d,{variant:"h5",align:"center",children:["Dashboard: ",(u=r==null?void 0:r.result)==null?void 0:u.name]}),e.jsx("hr",{style:{maxWidth:"570px"}})]}),b.map(t=>e.jsx(s,{item:!0,xs:12,lg:8,children:e.jsx(v,{style:m,children:e.jsxs(s,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(s,{item:!0,xs:12,md:4,children:e.jsx("img",{src:t.imageFile2,alt:t.title,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"10px"}})}),e.jsx(s,{item:!0,xs:12,md:8,children:e.jsxs(E,{children:[e.jsx(d,{variant:"h6",component:"div",align:"left",children:t.title}),e.jsx(d,{variant:"body2",color:"textSecondary",component:"div",align:"left",children:f(t.description)}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end"},children:[e.jsx(C,{onClick:()=>y(t._id),style:{color:"#dd4b39",cursor:"pointer"}}),e.jsx(T,{to:`/editTour/${t._id}`,children:e.jsx(k,{style:{color:"#55acee",marginLeft:"10px",cursor:"pointer"}})})]})]})})]})})},t._id)),a&&n<l&&e.jsx(j,{})]})};export{F as default};
